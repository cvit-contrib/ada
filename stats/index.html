<!DOCTYPE html>
<head>
    <meta charset="utf-8">
    <title> Boilerplate </title>
    <link 
          rel="stylesheet" 
          type="text/css"
          href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"/>

    <script
        src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js">
    </script>

    <link rel="stylesheet" type="text/css" href="custom.css"/>
    <script
        src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js">
    </script>
</head>
<body>
    <div class="jumbotron jumbotron-fluid">
        <div class="container">
            <h1 class="display-4">ada <3 cvit</h1>
            <p class="lead">Tools for managing cvit accounts on ada.</p>
        </div>
    </div>
    <div class="container">
        <div class="row">
            <div class="col-8">
                <h4 id="summary"> summary </h4>

                <p> We have 15 machines, with 4 gpus each, making 60
                gpus available. Quota is per week.  This gives us
                7x24x60 mins per GPU, getting us a total of 604800
                available gpu usage mins per week. </p>

                <table class="table">
                    <thead>
                        <thead>
                            <th> </th>
                            <th> GpuTRES </th>
                            <th> GpuTRESMins </th>
                        </thead>
                    </thead>
                    <tbody>
                        <tr>
                            <th> Available </th>
                            <td> 60 </td>
                            <td> 604800 </td>
                        </tr>
                    </tbody>
                </table>

                <p> Assuming max usage at the current user quotas, the
                status in order are used, unused, and
                unallocated:</p>

                <div id="total-usage"> 
                </div>

                <p>

                <h4 id="levels"> levels </h4>

                <div class="row">
                    <div class="col-4">
                        <table class="table table-striped table-sm">
                            <thead>
                                <th> slab </th>
                                <th> gpus </th>
                                <th> gpumins </th>
                            </thead>
                            <tbody id="level-desc">
                            </tbody>
                        </table>
                    </div>
                    <div class="col-8">
                        <p> The slabs which exist at the time of writing
                        this. </p>

                        <p> Custom quotas are also set based on special
                        needs. </p>

                    </div>
                </div>

                <h4 id="delta"> delta </h4>

                <div class="row">
                    <div class="col-10">
                        <p> The following section outputs the changes for a
                        week, given a <code>data.csv</code> of the past week.
                        </p>
                        <div id="updates" class="collapse">
                            <pre>
<code id="updates-new"></code>
                            </pre>
                        </div>
                    </div>

                    <div class="col-2">
                        <button class="btn btn-primary" 
                                type="button"
                                data-toggle="collapse"
                                data-target="#updates"
                                aria-expanded="false"
                                aria-controls="updates">
                            View
                        </button>
                    </div>
                </div>

                <h4 id="dump"> dump </h4>
                <div class="row">
                    <div class="col-10">
                        Complete usage list, sorted by usage in the past
                        week.
                        <div id="usage-table" class="collapse">
                        </div>
                    </div>
                    <div class="col-2">
                    <button class="btn btn-primary" 
                            type="button"
                            data-toggle="collapse"
                            data-target="#usage-table"
                            aria-expanded="false"
                            aria-controls="usage-table">
                        View
                    </button>
                    </div>
                </div>
            </div>
            <div class="col-2">
                <nav id="navbar-example3" class="navbar navbar-light
                bg-light position-fixed">
                    <!-- <a class="navbar-brand" href="#">Navbar</a> -->
                    <nav class="nav nav-pills flex-column">
                        <a class="nav-link" href="#summary">summary</a>
                        <a class="nav-link" href="#levels">levels</a>
                        <a class="nav-link" href="#delta">delta</a>
                        <a class="nav-link" href="#dump">dump</a>
                    </nav>
                </nav>
            </div>
        </div>
    </div>
    <script src="https://d3js.org/d3.v4.min.js"></script>
    <script src="//d3js.org/d3-scale-chromatic.v0.3.min.js"></script>

    <script src="driver.js"></script>
</body>

